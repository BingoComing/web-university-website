<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>在线报名 - Web技术大学</title>
    <link rel="stylesheet" href="../../assets/css/main.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- 顶部导航栏 -->
    <header class="header">
      <div class="header-top">
        <div class="top-right">
          <a href="../login.html">在校师生</a>
          <a href="../alumni/alumni.html">校友总会</a>
          <div class="language-switcher">
            <button data-lang="zh" class="active">中文</button>
            <button data-lang="en">English</button>
          </div>
        </div>
      </div>
      <div class="header-main">
        <div class="logo">
          <h1>Web技术大学</h1>
          <p>Web Technology University</p>
        </div>
        <div class="search-box">
          <input
            type="text"
            id="headerSearchInput"
            placeholder="请输入关键词"
          />
          <button onclick="handleSearch()">搜索</button>
        </div>
      </div>
      <nav class="nav">
        <ul>
          <li>
            <a href="../index.html">首页</a>
            <ul class="dropdown">
              <li><a href="../news/news_media.html">校园快讯</a></li>
              <li><a href="../news/news_past.html">通知速递</a></li>
              <li><a href="../campus/activities.html">校园活动</a></li>
              <li><a href="../news/news_media.html">今日聚焦</a></li>
            </ul>
          </li>
          <li>
            <a href="../about/intro.html">学校概况</a>
            <ul class="dropdown">
              <li><a href="../about/intro.html">学校简介</a></li>
              <li><a href="../about/leaders.html">领导信息</a></li>
              <li><a href="../about/history.html">办学历史</a></li>
              <li><a href="../about/honors.html">校园荣誉</a></li>
            </ul>
          </li>
          <li>
            <a href="../departments/dept_literature.html">院系设置</a>
            <ul class="dropdown">
              <li><a href="../departments/dept_literature.html">文学院</a></li>
              <li><a href="../departments/dept_science.html">理学院</a></li>
              <li><a href="../departments/dept_engineering.html">工学院</a></li>
              <li><a href="../departments/dept_art.html">艺术学院</a></li>
            </ul>
          </li>
          <li>
            <a href="../news/news_media.html">新闻中心</a>
            <ul class="dropdown">
              <li><a href="../news/news_media.html">媒体报道</a></li>
              <li><a href="../news/news_photos.html">图片新闻</a></li>
              <li><a href="../news/news_videos.html">视频集锦</a></li>
              <li><a href="../news/news_past.html">往期新闻</a></li>
            </ul>
          </li>
          <li>
            <a href="../admissions/admission_guide.html" class="active">招生就业</a>
            <ul class="dropdown">
              <li><a href="../admissions/admission_guide.html">招生简章</a></li>
              <li><a href="../admissions/employment.html">就业信息</a></li>
              <li><a href="../admissions/graduates.html">毕业生风采</a></li>
              <li><a href="../admissions/apply_guide.html">报考指南</a></li>
              <li><a href="../admissions/online_registration.html">在线报名</a></li>
            </ul>
          </li>
          <li>
            <a href="../research/research_projects.html">科学研究</a>
            <ul class="dropdown">
              <li><a href="../research/research_projects.html">科研项目</a></li>
              <li><a href="../research/achievements.html">成果展示</a></li>
              <li><a href="../research/teams.html">研究团队</a></li>
              <li><a href="../research/journals.html">学术期刊</a></li>
            </ul>
          </li>
          <li>
            <a href="../campus/clubs.html">校园文化</a>
            <ul class="dropdown">
              <li><a href="../campus/clubs.html">学生社团</a></li>
              <li><a href="../campus/activities.html">文化活动</a></li>
              <li><a href="../campus/art_show.html">艺术展演</a></li>
              <li><a href="../contact.html">联系我们</a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </header>

    <div class="breadcrumb">
      <div class="container">
        当前位置：<a href="../index.html">首页</a> >
        <a href="../admissions/admission_guide.html">招生就业</a> > 在线报名
      </div>
    </div>

    <main class="main">
      <div class="container">
        <section class="registration-section">
          <div class="section-header">
            <h2 data-i18n="registration.title">在线报名</h2>
            <p data-i18n="registration.subtitle">请填写以下信息，完成报名申请</p>
          </div>

          <div class="registration-form-container">
            <form id="registrationForm" class="registration-form" onsubmit="return validateForm()">
              <div class="form-group">
                <label for="fullName" data-i18n="registration.fullName">姓名 *</label>
                <input type="text" id="fullName" name="fullName" placeholder="请输入您的姓名" required>
                <div class="error-message" id="fullNameError"></div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="gender" data-i18n="registration.gender">性别 *</label>
                  <select id="gender" name="gender" required>
                    <option value="">请选择</option>
                    <option value="male" data-i18n="registration.male">男</option>
                    <option value="female" data-i18n="registration.female">女</option>
                  </select>
                  <div class="error-message" id="genderError"></div>
                </div>

                <div class="form-group">
                  <label for="birthDate" data-i18n="registration.birthDate">出生日期 *</label>
                  <input type="date" id="birthDate" name="birthDate" required>
                  <div class="error-message" id="birthDateError"></div>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="idCard" data-i18n="registration.idCard">身份证号 *</label>
                  <input type="text" id="idCard" name="idCard" placeholder="请输入18位身份证号" required>
                  <div class="error-message" id="idCardError"></div>
                </div>

                <div class="form-group">
                  <label for="phone" data-i18n="registration.phone">手机号码 *</label>
                  <input type="tel" id="phone" name="phone" placeholder="请输入手机号码" required>
                  <div class="error-message" id="phoneError"></div>
                </div>
              </div>

              <div class="form-group">
                <label for="email" data-i18n="registration.email">电子邮箱</label>
                <input type="email" id="email" name="email" placeholder="请输入电子邮箱">
                <div class="error-message" id="emailError"></div>
              </div>

              <div class="form-group">
                <label for="address" data-i18n="registration.address">家庭地址 *</label>
                <textarea id="address" name="address" rows="3" placeholder="请输入详细家庭地址" required></textarea>
                <div class="error-message" id="addressError"></div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="province" data-i18n="registration.province">省份 *</label>
                  <select id="province" name="province" required>
                    <option value="">请选择</option>
                    <option value="北京市">北京市</option>
                    <option value="上海市">上海市</option>
                    <option value="广州市">广州市</option>
                    <option value="深圳市">深圳市</option>
                    <option value="其他">其他</option>
                  </select>
                  <div class="error-message" id="provinceError"></div>
                </div>

                <div class="form-group">
                  <label for="city" data-i18n="registration.city">城市 *</label>
                  <input type="text" id="city" name="city" placeholder="请输入城市名称" required>
                  <div class="error-message" id="cityError"></div>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="highSchool" data-i18n="registration.highSchool">毕业中学 *</label>
                  <input type="text" id="highSchool" name="highSchool" placeholder="请输入毕业中学名称" required>
                  <div class="error-message" id="highSchoolError"></div>
                </div>

                <div class="form-group">
                  <label for="graduationYear" data-i18n="registration.graduationYear">毕业年份 *</label>
                  <select id="graduationYear" name="graduationYear" required>
                    <option value="">请选择</option>
                    <option value="2023">2023</option>
                    <option value="2024">2024</option>
                    <option value="2025">2025</option>
                  </select>
                  <div class="error-message" id="graduationYearError"></div>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="examScore" data-i18n="registration.examScore">高考成绩 *</label>
                  <input type="number" id="examScore" name="examScore" placeholder="请输入高考成绩" required min="0" max="750">
                  <div class="error-message" id="examScoreError"></div>
                </div>

                <div class="form-group">
                  <label for="subject" data-i18n="registration.subject">选考科目</label>
                  <select id="subject" name="subject">
                    <option value="">请选择</option>
                    <option value="物理">物理</option>
                    <option value="化学">化学</option>
                    <option value="生物">生物</option>
                    <option value="历史">历史</option>
                    <option value="地理">地理</option>
                    <option value="政治">政治</option>
                  </select>
                  <div class="error-message" id="subjectError"></div>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="major1" data-i18n="registration.major1">第一志愿专业 *</label>
                  <select id="major1" name="major1" required>
                    <option value="">请选择</option>
                    <option value="计算机科学与技术">计算机科学与技术</option>
                    <option value="软件工程">软件工程</option>
                    <option value="人工智能">人工智能</option>
                    <option value="电子信息工程">电子信息工程</option>
                    <option value="通信工程">通信工程</option>
                    <option value="自动化">自动化</option>
                  </select>
                  <div class="error-message" id="major1Error"></div>
                </div>

                <div class="form-group">
                  <label for="major2" data-i18n="registration.major2">第二志愿专业</label>
                  <select id="major2" name="major2">
                    <option value="">请选择</option>
                    <option value="计算机科学与技术">计算机科学与技术</option>
                    <option value="软件工程">软件工程</option>
                    <option value="人工智能">人工智能</option>
                    <option value="电子信息工程">电子信息工程</option>
                    <option value="通信工程">通信工程</option>
                    <option value="自动化">自动化</option>
                  </select>
                  <div class="error-message" id="major2Error"></div>
                </div>
              </div>

              <div class="form-group">
                <label for="introduction" data-i18n="registration.introduction">个人简介</label>
                <textarea id="introduction" name="introduction" rows="5" placeholder="请简要介绍自己，包括获奖情况、特长等"></textarea>
                <div class="error-message" id="introductionError"></div>
              </div>

              <div class="form-group">
                <div class="checkbox-group">
                  <input type="checkbox" id="agreement" name="agreement" required>
                  <label for="agreement" data-i18n="registration.agreement">我已阅读并同意<a href="#">《报名须知》</a>和<a href="#">《隐私政策》</a> *</label>
                </div>
                <div class="error-message" id="agreementError"></div>
              </div>

              <div class="form-actions">
                <button type="reset" class="btn btn-secondary" data-i18n="registration.reset">重置</button>
                <button type="submit" class="btn btn-primary" data-i18n="registration.submit">提交报名</button>
              </div>
            </form>
          </div>
        </section>
      </div>
    </main>

    <!-- 成功提交模态框 -->
    <div id="successModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 data-i18n="registration.successTitle">报名成功</h3>
          <span class="close" onclick="closeModal()">&times;</span>
        </div>
        <div class="modal-body">
          <div class="success-icon">
            <i class="fas fa-check-circle"></i>
          </div>
          <p data-i18n="registration.successMessage">您的报名申请已成功提交！我们将尽快与您联系。</p>
          <div class="success-details">
            <p data-i18n="registration.successNote">请妥善保管您的报名号：<span id="registrationNumber"></span></p>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary" onclick="closeModal()" data-i18n="registration.close">关闭</button>
        </div>
      </div>
    </div>

    <!-- 页脚 -->
    <footer class="footer">
      <div class="container">
        <div class="footer-top">
          <h3>Web技术大学</h3>
          <p>地址：XX省XX市高新区文理大道1号</p>
        </div>
        <div class="footer-bottom">
          <div class="links">
            <span>相关链接：</span>
            <a href="http://www.moe.gov.cn/" target="_blank">中华人民共和国教育部</a>
            <a href="https://www.edu.cn/" target="_blank">中国教育科研网</a>
          </div>
          <div class="nav-links">
            <a href="../about/intro.html">学校概况</a>
            <a href="../departments/dept_literature.html">院系设置</a>
            <a href="../contact.html">联系我们</a>
          </div>
        </div>
      </div>
    </footer>

    <script src="../../assets/js/main.js"></script>
    <script>
      // 表单验证函数
      function validateForm() {
        let isValid = true;
        
        // 重置所有错误信息
        document.querySelectorAll('.error-message').forEach(el => {
          el.textContent = '';
        });

        // 验证姓名
        const fullName = document.getElementById('fullName').value.trim();
        if (fullName === '') {
          document.getElementById('fullNameError').textContent = '请输入您的姓名';
          isValid = false;
        }

        // 验证性别
        const gender = document.getElementById('gender').value;
        if (gender === '') {
          document.getElementById('genderError').textContent = '请选择性别';
          isValid = false;
        }

        // 验证出生日期
        const birthDate = document.getElementById('birthDate').value;
        if (birthDate === '') {
          document.getElementById('birthDateError').textContent = '请选择出生日期';
          isValid = false;
        }

        // 验证身份证号（简单验证）
        const idCard = document.getElementById('idCard').value.trim();
        const idCardRegex = /^\d{17}[\dXx]$/;
        if (idCard === '') {
          document.getElementById('idCardError').textContent = '请输入身份证号';
          isValid = false;
        } else if (!idCardRegex.test(idCard)) {
          document.getElementById('idCardError').textContent = '请输入有效的18位身份证号';
          isValid = false;
        }

        // 验证手机号码
        const phone = document.getElementById('phone').value.trim();
        const phoneRegex = /^1[3-9]\d{9}$/;
        if (phone === '') {
          document.getElementById('phoneError').textContent = '请输入手机号码';
          isValid = false;
        } else if (!phoneRegex.test(phone)) {
          document.getElementById('phoneError').textContent = '请输入有效的手机号码';
          isValid = false;
        }

        // 验证电子邮箱（如果填写）
        const email = document.getElementById('email').value.trim();
        if (email !== '') {
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(email)) {
            document.getElementById('emailError').textContent = '请输入有效的电子邮箱地址';
            isValid = false;
          }
        }

        // 验证家庭地址
        const address = document.getElementById('address').value.trim();
        if (address === '') {
          document.getElementById('addressError').textContent = '请输入家庭地址';
          isValid = false;
        }

        // 验证省份
        const province = document.getElementById('province').value;
        if (province === '') {
          document.getElementById('provinceError').textContent = '请选择省份';
          isValid = false;
        }

        // 验证城市
        const city = document.getElementById('city').value.trim();
        if (city === '') {
          document.getElementById('cityError').textContent = '请输入城市名称';
          isValid = false;
        }

        // 验证毕业中学
        const highSchool = document.getElementById('highSchool').value.trim();
        if (highSchool === '') {
          document.getElementById('highSchoolError').textContent = '请输入毕业中学名称';
          isValid = false;
        }

        // 验证毕业年份
        const graduationYear = document.getElementById('graduationYear').value;
        if (graduationYear === '') {
          document.getElementById('graduationYearError').textContent = '请选择毕业年份';
          isValid = false;
        }

        // 验证高考成绩
        const examScore = document.getElementById('examScore').value;
        if (examScore === '') {
          document.getElementById('examScoreError').textContent = '请输入高考成绩';
          isValid = false;
        } else if (isNaN(examScore) || examScore < 0 || examScore > 750) {
          document.getElementById('examScoreError').textContent = '请输入有效的高考成绩（0-750）';
          isValid = false;
        }

        // 验证协议
        const agreement = document.getElementById('agreement').checked;
        if (!agreement) {
          document.getElementById('agreementError').textContent = '请阅读并同意报名须知和隐私政策';
          isValid = false;
        }

        if (isValid) {
          // 生成报名号
          const registrationNumber = 'WTU' + Date.now().toString().slice(-8);
          document.getElementById('registrationNumber').textContent = registrationNumber;
          
          // 显示成功模态框
          document.getElementById('successModal').style.display = 'flex';
          
          // 重置表单
          document.getElementById('registrationForm').reset();
        }

        return false; // 阻止表单默认提交
      }

      // 关闭模态框
      function closeModal() {
        document.getElementById('successModal').style.display = 'none';
      }

      // 点击模态框外部关闭
      window.onclick = function(event) {
        const modal = document.getElementById('successModal');
        if (event.target === modal) {
          closeModal();
        }
      }
    </script>
  </body>
</html>