<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>学术资源下载 - Web技术大学</title>
    <link rel="stylesheet" href="../../assets/css/main.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- 顶部导航栏 -->
    <header class="header">
      <div class="header-top">
        <div class="top-right">
          <a href="../login.html">在校师生</a>
          <a href="../alumni/alumni.html">校友总会</a>
          <div class="language-switcher">
            <button data-lang="zh" class="active">中文</button>
            <button data-lang="en">English</button>
          </div>
        </div>
      </div>
      <div class="header-main">
        <div class="logo">
          <h1>Web技术大学</h1>
          <p>Web Technology University</p>
        </div>
        <div class="search-box">
          <input
            type="text"
            id="headerSearchInput"
            placeholder="请输入关键词"
          />
          <button onclick="handleSearch()">搜索</button>
        </div>
      </div>
      <nav class="nav">
        <ul>
          <li>
            <a href="../index.html">首页</a>
            <ul class="dropdown">
              <li><a href="../news/news_media.html">校园快讯</a></li>
              <li><a href="../news/news_past.html">通知速递</a></li>
              <li><a href="../campus/activities.html">校园活动</a></li>
              <li><a href="../news/news_media.html">今日聚焦</a></li>
            </ul>
          </li>
          <li>
            <a href="../about/intro.html">学校概况</a>
            <ul class="dropdown">
              <li><a href="../about/intro.html">学校简介</a></li>
              <li><a href="../about/leaders.html">领导信息</a></li>
              <li><a href="../about/history.html">办学历史</a></li>
              <li><a href="../about/honors.html">校园荣誉</a></li>
            </ul>
          </li>
          <li>
            <a href="../departments/dept_literature.html">院系设置</a>
            <ul class="dropdown">
              <li><a href="../departments/dept_literature.html">文学院</a></li>
              <li><a href="../departments/dept_science.html">理学院</a></li>
              <li><a href="../departments/dept_engineering.html">工学院</a></li>
              <li><a href="../departments/dept_art.html">艺术学院</a></li>
            </ul>
          </li>
          <li>
            <a href="../news/news_media.html">新闻中心</a>
            <ul class="dropdown">
              <li><a href="../news/news_media.html">媒体报道</a></li>
              <li><a href="../news/news_photos.html">图片新闻</a></li>
              <li><a href="../news/news_videos.html">视频集锦</a></li>
              <li><a href="../news/news_past.html">往期新闻</a></li>
            </ul>
          </li>
          <li>
            <a href="../admissions/admission_guide.html">招生就业</a>
            <ul class="dropdown">
              <li><a href="../admissions/admission_guide.html">招生简章</a></li>
              <li><a href="../admissions/employment.html">就业信息</a></li>
              <li><a href="../admissions/graduates.html">毕业生风采</a></li>
              <li><a href="../admissions/apply_guide.html">报考指南</a></li>
            </ul>
          </li>
          <li>
            <a href="../research/research_projects.html" class="active">科学研究</a>
            <ul class="dropdown">
              <li><a href="../research/research_projects.html">科研项目</a></li>
              <li><a href="../research/achievements.html">成果展示</a></li>
              <li><a href="../research/teams.html">研究团队</a></li>
              <li><a href="../research/journals.html">学术期刊</a></li>
              <li><a href="../research/academic_resources.html">学术资源</a></li>
            </ul>
          </li>
          <li>
            <a href="../campus/clubs.html">校园文化</a>
            <ul class="dropdown">
              <li><a href="../campus/clubs.html">学生社团</a></li>
              <li><a href="../campus/activities.html">文化活动</a></li>
              <li><a href="../campus/art_show.html">艺术展演</a></li>
              <li><a href="../contact.html">联系我们</a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </header>

    <div class="breadcrumb">
      <div class="container">
        当前位置：<a href="../index.html">首页</a> >
        <a href="../research/research_projects.html">科学研究</a> > 学术资源下载
      </div>
    </div>

    <main class="main">
      <div class="container">
        <!-- 页面标题 -->
        <section class="page-header">
          <h2 data-i18n="resources.title">学术资源下载</h2>
          <p data-i18n="resources.subtitle">丰富的学术资源，助力科研与学习</p>
        </section>

        <!-- 学术资源下载区域 -->
        <section class="academic-resources-section">
          <!-- 资源分类导航 -->
          <div class="resources-category-nav">
            <div class="category-header">
              <h3 data-i18n="resources.categories">资源分类</h3>
            </div>
            <ul class="category-list">
              <li><a href="#" class="category-item active" data-category="all" data-i18n="resources.all">全部资源</a></li>
              <li><a href="#" class="category-item" data-category="papers" data-i18n="resources.papers">学术论文</a></li>
              <li><a href="#" class="category-item" data-category="books" data-i18n="resources.books">电子书籍</a></li>
              <li><a href="#" class="category-item" data-category="reports" data-i18n="resources.reports">研究报告</a></li>
              <li><a href="#" class="category-item" data-category="slides" data-i18n="resources.slides">PPT课件</a></li>
              <li><a href="#" class="category-item" data-category="datasets" data-i18n="resources.datasets">数据集</a></li>
              <li><a href="#" class="category-item" data-category="software" data-i18n="resources.software">软件工具</a></li>
            </ul>
          </div>

          <!-- 资源搜索和筛选 -->
          <div class="resources-search-filter">
            <div class="search-filter-container">
              <form id="resourcesSearchForm" class="resources-search-form" onsubmit="return performResourceSearch()">
                <div class="form-row">
                  <div class="form-group">
                    <label for="resourceKeyword" data-i18n="resources.keyword">关键词</label>
                    <input type="text" id="resourceKeyword" name="resourceKeyword" placeholder="请输入资源名称、作者或关键词">
                  </div>
                  <div class="form-group">
                    <label for="resourceYear" data-i18n="resources.year">年份</label>
                    <select id="resourceYear" name="resourceYear">
                      <option value="" data-i18n="resources.allYears">全部年份</option>
                      <option value="2025" data-i18n="resources.year2025">2025</option>
                      <option value="2024" data-i18n="resources.year2024">2024</option>
                      <option value="2023" data-i18n="resources.year2023">2023</option>
                      <option value="2022" data-i18n="resources.year2022">2022</option>
                      <option value="2021" data-i18n="resources.year2021">2021</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="resourceDepartment" data-i18n="resources.department">所属院系</label>
                    <select id="resourceDepartment" name="resourceDepartment">
                      <option value="" data-i18n="resources.allDepartments">全部院系</option>
                      <option value="computer" data-i18n="resources.deptComputer">计算机学院</option>
                      <option value="science" data-i18n="resources.deptScience">理学院</option>
                      <option value="engineering" data-i18n="resources.deptEngineering">工学院</option>
                      <option value="literature" data-i18n="resources.deptLiterature">文学院</option>
                      <option value="art" data-i18n="resources.deptArt">艺术学院</option>
                    </select>
                  </div>
                </div>
                <div class="search-actions">
                  <button type="reset" class="btn btn-secondary" data-i18n="resources.reset">重置</button>
                  <button type="submit" class="btn btn-primary" data-i18n="resources.search">搜索</button>
                </div>
              </form>
            </div>
          </div>

          <!-- 资源列表 -->
          <div class="resources-content">
            <div class="resources-header">
              <div class="results-info">
                <span data-i18n="resources.results">找到 <strong id="totalResources">0</strong> 个资源</span>
                <div class="results-sort">
                  <span data-i18n="resources.sortBy">排序方式：</span>
                  <select id="resourcesSort" onchange="performResourceSearch()">
                    <option value="date" data-i18n="resources.sortDate">发布日期</option>
                    <option value="name" data-i18n="resources.sortName">资源名称</option>
                    <option value="downloads" data-i18n="resources.sortDownloads">下载量</option>
                  </select>
                </div>
              </div>
            </div>

            <div id="resourcesList" class="resources-list">
              <!-- 资源列表将通过JavaScript动态填充 -->
              <div class="empty-state">
                <i class="fas fa-file-alt"></i>
                <h4 data-i18n="resources.emptyTitle">开始探索</h4>
                <p data-i18n="resources.emptyDesc">使用搜索或分类筛选查找学术资源</p>
              </div>
            </div>

            <!-- 分页控件 -->
            <div id="resourcesPagination" class="pagination" style="display: none;">
              <button onclick="changeResourcePage(1)" id="firstResourcePage" class="btn btn-secondary" data-i18n="resources.firstPage">首页</button>
              <button onclick="changeResourcePage(currentResourcePage - 1)" id="prevResourcePage" class="btn btn-secondary" data-i18n="resources.prevPage">上一页</button>
              <span id="resourcePageInfo" data-i18n="resources.pageInfo">第 <span id="currentResourcePage">1</span> 页，共 <span id="totalResourcePages">1</span> 页</span>
              <button onclick="changeResourcePage(currentResourcePage + 1)" id="nextResourcePage" class="btn btn-secondary" data-i18n="resources.nextPage">下一页</button>
              <button onclick="changeResourcePage(totalResourcePages)" id="lastResourcePage" class="btn btn-secondary" data-i18n="resources.lastPage">末页</button>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- 资源详情模态框 -->
    <div id="resourceDetailModal" class="modal">
      <div class="modal-content modal-large">
        <div class="modal-header">
          <h3 id="resourceModalTitle" data-i18n="resources.detailTitle">资源详情</h3>
          <span class="close" onclick="closeResourceModal()">&times;</span>
        </div>
        <div class="modal-body">
          <div id="resourceDetailContent" class="resource-detail-content">
            <!-- 资源详情内容将通过JavaScript动态填充 -->
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary" id="downloadBtn" onclick="downloadResource()" data-i18n="resources.download">下载资源</button>
          <button class="btn btn-secondary" onclick="closeResourceModal()" data-i18n="resources.close">关闭</button>
        </div>
      </div>
    </div>

    <!-- 页脚 -->
    <footer class="footer">
      <div class="container">
        <div class="footer-top">
          <h3>Web技术大学</h3>
          <p>地址：XX省XX市高新区文理大道1号</p>
        </div>
        <div class="footer-bottom">
          <div class="links">
            <span>相关链接：</span>
            <a href="http://www.moe.gov.cn/" target="_blank">中华人民共和国教育部</a>
            <a href="https://www.edu.cn/" target="_blank">中国教育科研网</a>
          </div>
          <div class="nav-links">
            <a href="../about/intro.html">学校概况</a>
            <a href="../departments/dept_literature.html">院系设置</a>
            <a href="../contact.html">联系我们</a>
          </div>
        </div>
      </div>
    </footer>

    <script src="../../assets/js/main.js"></script>
    <script>
      // 模拟学术资源数据
      const mockResources = [
        {
          id: 1,
          title: "基于深度学习的图像识别技术研究",
          category: "papers",
          department: "computer",
          author: "张三, 李四, 王五",
          year: 2025,
          description: "本文深入研究了基于深度学习的图像识别技术，提出了一种新的卷积神经网络架构，在多个数据集上取得了优异的性能。",
          fileSize: "2.5 MB",
          fileType: "PDF",
          downloads: 1245,
          views: 3567,
          publishDate: "2025-01-15",
          keywords: "深度学习, 图像识别, 卷积神经网络, 计算机视觉",
          url: "#"
        },
        {
          id: 2,
          title: "计算机科学导论（第3版）",
          category: "books",
          department: "computer",
          author: "赵六",
          year: 2024,
          description: "本书全面介绍了计算机科学的基本概念和原理，包括计算机组成、操作系统、数据结构、算法等内容，适合作为计算机科学专业的入门教材。",
          fileSize: "15.8 MB",
          fileType: "PDF",
          downloads: 2345,
          views: 5678,
          publishDate: "2024-08-20",
          keywords: "计算机科学, 导论, 教材, 基础知识",
          url: "#"
        },
        {
          id: 3,
          title: "2023年人工智能发展报告",
          category: "reports",
          department: "computer",
          author: "Web技术大学人工智能研究院",
          year: 2023,
          description: "本报告总结了2023年全球人工智能领域的发展现状和趋势，包括技术突破、产业应用、政策法规等方面的内容。",
          fileSize: "8.2 MB",
          fileType: "PDF",
          downloads: 1890,
          views: 4567,
          publishDate: "2023-12-10",
          keywords: "人工智能, 发展报告, 技术趋势, 产业应用",
          url: "#"
        },
        {
          id: 4,
          title: "机器学习算法与应用",
          category: "slides",
          department: "computer",
          author: "孙七",
          year: 2024,
          description: "本PPT课件介绍了机器学习的基本算法和应用案例，包括监督学习、无监督学习、深度学习等内容。",
          fileSize: "3.4 MB",
          fileType: "PPTX",
          downloads: 987,
          views: 2345,
          publishDate: "2024-03-15",
          keywords: "机器学习, PPT, 课件, 算法",
          url: "#"
        },
        {
          id: 5,
          title: "图像分类数据集（CIFAR-10增强版）",
          category: "datasets",
          department: "computer",
          author: "周八",
          year: 2023,
          description: "本数据集是CIFAR-10数据集的增强版本，包含60000张32x32彩色图像，分为10个类别，每个类别6000张图像。",
          fileSize: "178 MB",
          fileType: "ZIP",
          downloads: 678,
          views: 1567,
          publishDate: "2023-06-20",
          keywords: "数据集, 图像分类, CIFAR-10, 计算机视觉",
          url: "#"
        },
        {
          id: 6,
          title: "Python数据分析工具包",
          category: "software",
          department: "science",
          author: "吴九",
          year: 2024,
          description: "本工具包提供了一套完整的Python数据分析工具，包括数据清洗、可视化、统计分析等功能，适合科研人员和数据分析人员使用。",
          fileSize: "5.6 MB",
          fileType: "ZIP",
          downloads: 1456,
          views: 3456,
          publishDate: "2024-05-10",
          keywords: "Python, 数据分析, 工具包, 可视化",
          url: "#"
        },
        {
          id: 7,
          title: "自然语言处理中的情感分析技术",
          category: "papers",
          department: "literature",
          author: "郑十",
          year: 2024,
          description: "本文研究了自然语言处理中的情感分析技术，提出了一种基于Transformer的情感分析模型，在多个数据集上取得了优异的性能。",
          fileSize: "1.8 MB",
          fileType: "PDF",
          downloads: 876,
          views: 2134,
          publishDate: "2024-02-25",
          keywords: "自然语言处理, 情感分析, Transformer, 文本分析",
          url: "#"
        },
        {
          id: 8,
          title: "高等数学（上册）电子教案",
          category: "slides",
          department: "science",
          author: "王十一",
          year: 2023,
          description: "本电子教案包含了高等数学上册的全部内容，包括极限、导数、积分等章节，适合教师教学和学生学习使用。",
          fileSize: "4.2 MB",
          fileType: "PPTX",
          downloads: 1234,
          views: 3456,
          publishDate: "2023-09-15",
          keywords: "高等数学, 电子教案, PPT, 数学教育",
          url: "#"
        }
      ];

      // 全局变量
      let currentResourcePage = 1;
      let totalResourcePages = 1;
      let totalResources = 0;
      let filteredResources = [];
      const resourcesPerPage = 6;
      let currentCategory = 'all';

      // 页面加载完成后初始化
      document.addEventListener('DOMContentLoaded', function() {
        // 初始化资源列表
        performResourceSearch();

        // 绑定分类点击事件
        document.querySelectorAll('.category-item').forEach(item => {
          item.addEventListener('click', function(e) {
            e.preventDefault();
            // 更新分类激活状态
            document.querySelectorAll('.category-item').forEach(cat => cat.classList.remove('active'));
            this.classList.add('active');
            // 更新当前分类
            currentCategory = this.dataset.category;
            // 重新搜索
            performResourceSearch();
          });
        });
      });

      // 执行资源搜索
      function performResourceSearch() {
        const keyword = document.getElementById('resourceKeyword').value.trim().toLowerCase();
        const year = document.getElementById('resourceYear').value;
        const department = document.getElementById('resourceDepartment').value;
        const sortBy = document.getElementById('resourcesSort').value;

        // 过滤资源
        filteredResources = mockResources.filter(resource => {
          // 分类过滤
          const categoryMatch = currentCategory === 'all' || resource.category === currentCategory;
          // 关键词过滤
          const keywordMatch = keyword === '' || 
                            resource.title.toLowerCase().includes(keyword) ||
                            resource.author.toLowerCase().includes(keyword) ||
                            resource.keywords.toLowerCase().includes(keyword);
          // 年份过滤
          const yearMatch = year === '' || resource.year === parseInt(year);
          // 院系过滤
          const departmentMatch = department === '' || resource.department === department;

          return categoryMatch && keywordMatch && yearMatch && departmentMatch;
        });

        // 排序
        sortResources(sortBy);

        // 初始化分页
        totalResources = filteredResources.length;
        totalResourcePages = Math.ceil(totalResources / resourcesPerPage);
        currentResourcePage = 1;

        // 显示资源列表
        displayResources();
      }

      // 排序资源
      function sortResources(sortBy) {
        switch (sortBy) {
          case 'name':
            filteredResources.sort((a, b) => a.title.localeCompare(b.title, 'zh-CN'));
            break;
          case 'downloads':
            filteredResources.sort((a, b) => b.downloads - a.downloads);
            break;
          case 'date':
          default:
            filteredResources.sort((a, b) => new Date(b.publishDate) - new Date(a.publishDate));
            break;
        }
      }

      // 显示资源列表
      function displayResources() {
        const resourcesList = document.getElementById('resourcesList');
        const resourcesPagination = document.getElementById('resourcesPagination');

        if (totalResources === 0) {
          resourcesList.innerHTML = `
            <div class="empty-state">
              <i class="fas fa-search"></i>
              <h4 data-i18n="resources.noResultsTitle">未找到结果</h4>
              <p data-i18n="resources.noResultsDesc">尝试使用其他搜索条件</p>
            </div>
          `;
          resourcesPagination.style.display = 'none';
        } else {
          // 计算当前页的资源
          const startIndex = (currentResourcePage - 1) * resourcesPerPage;
          const endIndex = startIndex + resourcesPerPage;
          const currentPageResources = filteredResources.slice(startIndex, endIndex);

          // 生成资源列表HTML
          let resourcesHTML = '';
          currentPageResources.forEach(resource => {
            resourcesHTML += `
              <div class="resource-item" onclick="showResourceDetail(${resource.id})">
                <div class="resource-icon">
                  <i class="fas ${getResourceIcon(resource.category)}"></i>
                </div>
                <div class="resource-info">
                  <h4 class="resource-title">${resource.title}</h4>
                  <p class="resource-meta">
                    <span class="resource-author">${resource.author}</span>
                    <span class="resource-date">${resource.publishDate}</span>
                  </p>
                  <p class="resource-description">${resource.description.substring(0, 150)}...</p>
                  <div class="resource-tags">
                    ${resource.keywords.split(',').map(tag => `<span class="tag">${tag.trim()}</span>`).join('')}
                  </div>
                </div>
                <div class="resource-stats">
                  <div class="stat-item">
                    <i class="fas fa-download"></i>
                    <span>${resource.downloads}</span>
                  </div>
                  <div class="stat-item">
                    <i class="fas fa-eye"></i>
                    <span>${resource.views}</span>
                  </div>
                  <div class="resource-file-info">
                    <span class="file-type">${resource.fileType}</span>
                    <span class="file-size">${resource.fileSize}</span>
                  </div>
                </div>
              </div>
            `;
          });

          resourcesList.innerHTML = resourcesHTML;
          resourcesPagination.style.display = 'flex';
        }

        // 更新资源计数
        document.getElementById('totalResources').textContent = totalResources;

        // 更新分页信息
        updateResourcePagination();
      }

      // 获取资源图标
      function getResourceIcon(category) {
        const icons = {
          'papers': 'fa-file-pdf',
          'books': 'fa-book',
          'reports': 'fa-file-alt',
          'slides': 'fa-file-powerpoint',
          'datasets': 'fa-database',
          'software': 'fa-code'
        };
        return icons[category] || 'fa-file-alt';
      }

      // 更新分页控件
      function updateResourcePagination() {
        document.getElementById('currentResourcePage').textContent = currentResourcePage;
        document.getElementById('totalResourcePages').textContent = totalResourcePages;

        // 禁用/启用分页按钮
        document.getElementById('firstResourcePage').disabled = currentResourcePage === 1;
        document.getElementById('prevResourcePage').disabled = currentResourcePage === 1;
        document.getElementById('nextResourcePage').disabled = currentResourcePage === totalResourcePages;
        document.getElementById('lastResourcePage').disabled = currentResourcePage === totalResourcePages;
      }

      // 切换资源页面
      function changeResourcePage(page) {
        if (page >= 1 && page <= totalResourcePages) {
          currentResourcePage = page;
          performResourceSearch();
        }
      }

      // 显示资源详情
      function showResourceDetail(resourceId) {
        const resource = mockResources.find(r => r.id === resourceId);
        if (!resource) return;

        const modal = document.getElementById('resourceDetailModal');
        const content = document.getElementById('resourceDetailContent');

        content.innerHTML = `
          <div class="resource-detail-grid">
            <div class="resource-detail-info">
              <div class="detail-header">
                <h4>${resource.title}</h4>
                <div class="resource-type-badge">
                  <i class="fas ${getResourceIcon(resource.category)}"></i>
                  <span>${getResourceTypeName(resource.category)}</span>
                </div>
              </div>
              <div class="detail-meta">
                <div class="meta-item">
                  <span class="label">作者：</span>
                  <span class="value">${resource.author}</span>
                </div>
                <div class="meta-item">
                  <span class="label">发布日期：</span>
                  <span class="value">${resource.publishDate}</span>
                </div>
                <div class="meta-item">
                  <span class="label">所属院系：</span>
                  <span class="value">${getDepartmentName(resource.department)}</span>
                </div>
                <div class="meta-item">
                  <span class="label">文件类型：</span>
                  <span class="value">${resource.fileType} (${resource.fileSize})</span>
                </div>
                <div class="meta-item stats">
                  <span class="stat">
                    <i class="fas fa-download"></i> 
                    <span data-i18n="resources.downloads">下载量：</span>${resource.downloads}
                  </span>
                  <span class="stat">
                    <i class="fas fa-eye"></i> 
                    <span data-i18n="resources.views">浏览量：</span>${resource.views}
                  </span>
                </div>
              </div>
              <div class="detail-description">
                <h5 data-i18n="resources.description">资源描述</h5>
                <p>${resource.description}</p>
              </div>
              <div class="detail-keywords">
                <h5 data-i18n="resources.keywords">关键词</h5>
                <div class="keywords-list">
                  ${resource.keywords.split(',').map(tag => `<span class="tag">${tag.trim()}</span>`).join('')}
                </div>
              </div>
            </div>
          </div>
        `;

        modal.style.display = 'flex';
        // 存储当前资源ID，用于下载
        modal.dataset.resourceId = resourceId;
      }

      // 获取资源类型名称
      function getResourceTypeName(category) {
        const typeNames = {
          'papers': '学术论文',
          'books': '电子书籍',
          'reports': '研究报告',
          'slides': 'PPT课件',
          'datasets': '数据集',
          'software': '软件工具'
        };
        return typeNames[category] || category;
      }

      // 获取院系名称
      function getDepartmentName(department) {
        const deptNames = {
          'computer': '计算机学院',
          'science': '理学院',
          'engineering': '工学院',
          'literature': '文学院',
          'art': '艺术学院'
        };
        return deptNames[department] || department;
      }

      // 下载资源
      function downloadResource() {
        const modal = document.getElementById('resourceDetailModal');
        const resourceId = parseInt(modal.dataset.resourceId);
        const resource = mockResources.find(r => r.id === resourceId);
        
        if (resource) {
          // 模拟下载统计
          resource.downloads++;
          // 重新显示当前页资源列表
          displayResources();
          // 显示下载提示
          alert('资源已开始下载');
        }
      }

      // 关闭资源详情模态框
      function closeResourceModal() {
        document.getElementById('resourceDetailModal').style.display = 'none';
      }

      // 点击模态框外部关闭
      window.onclick = function(event) {
        const modal = document.getElementById('resourceDetailModal');
        if (event.target === modal) {
          closeResourceModal();
        }
      }
    </script>
  </body>
</html>